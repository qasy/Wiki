По статье: https://habr.com/ru/articles/321468/

Этот проект является небольшим пошаговым руководством по "корректной" сборке приложения из исходников, формировании пакета в виде, который поддерживает ваш пакетный менеджер и его установки в указанное место в системе.

Проект не является "out of tree build", то есть собирается в той же папке, где лежат исходники.

Необходимые инструменты: 
Компилятор: g++
Утилита для сборки: make
Утилита для создания пакета: checkinstall
Утилита для установки: install

В качестве исходников: 
hello.cpp - простой .cpp файлик который выводит надпись в консоль
Makefile - make файл сборки проекта



Шаг 1: Хорошим тоном (я бы сказал, принудительно хорошим тоном), является указание пути установки конечных файлов сборки (исполняемых файлов или библиотек).
Директории для установки выбираются исходя из иерархии файловой системы Linux. Рекомендуется устанавливать какие-то свои сборки в /usr/local.
То есть полный путь к /bin проекта будет находиться в /usr/local/bin, /lib в /usr/local/lib и так далее. Обычно это указывается в Makefile в качестве переменной PREFIX, то есть make PREFIX=/usr/local, либо, если используется cmake, то в переменной cmake -DCMAKE_INSTALL_PREFIX. Также, в качестве префикса можно использовать /opt/XXX, где XXX это директория проекта верхнего уровня, внутри которой будут находится /bin, /lib и т.д. Такой способ позволяет поддерживать порядок между проектами, каждый лежит в своей папке. Но, соответственно, тогда нужно добавлять эти пути к PATH.
Находясь в директории где лежат исходники, выполним вызов утилиты make, которая на основе целей описанных в Makefile, проведет сборку исполняемого файла hello из исходников. Не забываем указать PREFIX. Зачастую, для установки в выбраную диркторию необходимы права суперпользователя. То есть при установке не забываем про sudo. 

->make PREFIX=/usr/local

Шаг 2: Далее, для установки вместо make install, будем используем checkinstall. Он задаст пару вопросов и соберёт и установит пакет используемого в вашем дистрибутиве формата — deb или rpm(ничего другого она не умеет, но это покрывает значительную часть распространённых дистрибутивов). Получится достаточно небрежно собранный пакет, но по крайней мере:
-он будет отображаться в списке установленных
-все установленные файлы будут под контролем пакетной системы
-пакетная система сможет правильно себя вести в случае конфликтов этих файлов с другими пакетами

->sudo checkinstall

Шаг 3: Имеем в моем случае .deb пакет, который лежит в этой же папке. Также автоматически подхватился README.md. Этот .deb пакет был установлен по указанному пути (если проверим /usr/local/bin, увидим там hello) и удалить его можно используя системный пакетный менеджер, например, следующим образом:
->


